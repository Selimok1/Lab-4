import random

def взять_карту():
    return random.randint(2, 11)

# Подсчёт суммы карт
def сумма_карты(карты):
    return sum(карты)

игрок_карты = [взять_карту(), взять_карту()]
дилер_карты = [взять_карту()]

print(f"Ваши карты: {игрок_карты} (сумма: {сумма_карты(игрок_карты)})")
print(f"Карта дилера: {дилер_карты[0]}")

while True:
    выбор = input("Ввести 'взять', чтобы взять карту, или 'остановиться', чтобы остановиться: ").lower()
    if выбор == 'взять':
        карта = взять_карту()
        игрок_карты.append(карта)
        сумма_игрока = сумма_карты(игрок_карты)
        print(f"Вам выпала карта: {карта}")
        print(f"Ваши карты: {игрок_карты} (сумма: {сумма_игрока})")
        if сумма_игрока > 21:
            print("Перебор! Вы проиграли.")
            результат = "проигрыш"
            break
    elif выбор == 'остановиться':
        сумма_игрока = сумма_карты(игрок_карты)
        break
    else:
        print("Неверный ввод, попробуйте снова.")
сумма_дилера = сумма_карты(дилер_карты)
while сумма_дилера < 17:
    карта = взять_карту()
    дилер_карты.append(карта)
    сумма_дилера = сумма_карты(дилер_карты)

print(f"Карты дилера: {дилер_карты} (сумма: {сумма_дилера})")

if сумма_игрока > 21:
    результат = "проигрыш"
elif сумма_дилера > 21:
    результат = "выигрыш"
elif сумма_игрока > сумма_дилера:
    результат = "выигрыш"
elif сумма_игрока < сумма_дилера:
    результат = "проигрыш"
else:
    результат = "ничья"

print(f"Результат: {результат}")

with open("blackjack_results.txt", "a", encoding="utf-8") as файл:
    файл.write(f"Игрок: {игрок_карты} ({сумма_карты(игрок_карты)}), "
               f"Дилер: {дилер_карты} ({сумма_карты(дилер_карты)}), "
               f"Результат: {результат}\n")
